<view class="page">
  <view class="search card">
    <input class="search__input" placeholder="输入英文名/中文名/外号" value="{{keyword}}" bindinput="onKeywordInput" />
    <button class="search__button" bindtap="onSearchTap">搜索</button>
  </view>

  <view wx:if="{{loading}}" class="state card">
    <text class="state-text">正在搜索选手...</text>
  </view>

  <view wx:elif="{{error}}" class="state card">
    <text class="error-text">{{error}}</text>
  </view>

  <view wx:elif="{{keyword && !items.length}}" class="state card">
    <text class="state-text">未找到匹配选手</text>
  </view>

  <view wx:else class="list">
    <view class="fighter card" wx:for="{{items}}" wx:key="id" data-id="{{item.id}}" bindtap="onSelectFighter">
      <view class="fighter__name">{{item.name}}<text wx:if="{{item.name_zh}}"> / {{item.name_zh}}</text></view>
      <view wx:if="{{item.nickname}}" class="fighter__alias">昵称：{{item.nickname}}</view>
      <view class="fighter__meta">{{item.country_display || item.country || '-'}} | {{item.record || '-'}}</view>
    </view>
  </view>
</view>
